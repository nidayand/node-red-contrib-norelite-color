<!-- *********************************************
    Value node
     ********************************************* -->
<script type="text/x-red" data-template-name="nrl-color in">
    <div class="form-row">
        <label for="node-input-color"><i class="fa fa-paint-brush"></i> Color</label>
        <input type="text" class="jscolor {hash:true}" id="node-input-color" placeholder="#ffffff">

    </div>
</script>
<script type="text/x-red" data-help-name="nrl-color in">
    <p>Helper node to modify the color value in HEX format</p>
    <h3>Input</h3>
    <dl class="message-properties">
    <dt>payload&nbsp;<span class="property-type">object</span></dt>
    <dd>Norelite message format. See References</dd>
    </dl>
    <h3>Output</h3>
    <dl class="message-properties">
    <dt>payload&nbsp;<span class="property-type">object</span></dt>
    <dd>Norelite message format</dd>
    </dl>
    <h3>Details</h3>
    <p>Updates the <code>msg.payload.color</code> value with configuration. Simply enter the new value or use the color picker to select the color of choice.</p>
    <h3>References</h3>
    <ul>
    <li><a href="https://www.npmjs.com/package/node-red-contrib-norelite">Norelite</a></li>
    </ul>
</script>
<script type="text/javascript">
    /* when opening the form */
    function oneditprepareDatasource() {
      $.getScript('/norelite/color/jscolor.js').done(function(){
        jscolor.installByClassName("jscolor");
      });
    }
    RED.nodes.registerType('nrl-color in', {
        category: 'norelite_util-input',
        color: "#FFCC66",
        defaults: {
            color: {value: '#FFFFFF', required:true}
        },
        inputs: 1,
        outputs: 1,
        icon: "fa-color-o.png",
        //align: "left",
        label: function() {
            return "Set to " + this.color;
        },
        oneditprepare: oneditprepareDatasource,
        oneditsave: function(){
        }
    });
</script>

